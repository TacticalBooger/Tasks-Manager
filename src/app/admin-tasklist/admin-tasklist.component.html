<app-admin-header></app-admin-header>
<br>

<div style="margin-top: 70px;">

<app-admin-tools></app-admin-tools>

<table class="table table-hover" style="margin-top: 30px;">
    <thead>
        <tr>
            <th scope="col" class="text-center">Task Subject</th>
            <th scope="col" class="text-center">Priority</th>
            <th scope="col" class="text-center">Start Date</th>
            <th scope="col" class="text-center">Finish Date</th>
            <th scope="col" class="text-center">Department</th>
            <th scope="col" class="text-center">Assigned To</th>
            <th scope="col" class="text-center">Status</th>
            <th scope="col" class="text-center">Finish Task</th>
            <th scope="col" class="text-center">Delete Task</th>
            <th scope="col" class="text-center">Edit Task</th>
        </tr>
    </thead>

    <tbody>
        <tr *ngFor="let userdata of userDataArray, let i = index" style="border-left: 2px solid black; border-right: 2px solid black;">
            <td scope="row" class="text-start" style="width: 350px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.subject}}</td>
            <td class="text-center" style="font-weight: bold; width: 80px; height: 60px; border-left: 2px solid black; border-right: 2px solid black;" [style.backgroundColor]="priorityColor(userdata)">
                {{userdata.priority}}</td>
            <td class="text-center" style="width: 120px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.start_date | date: 'dd MMM yyyy'}}</td>
            <td class="text-center" style="width: 120px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.finish_date}}</td>
            <td class="text-center" style="width: 120px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.department}}</td>
            <td class="text-center" style="width: 120px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.assignedTo}}</td>
            <td class="text-center" style="width: 100px; height: 60px;" [style.backgroundColor]="taskColor(userdata)">{{userdata.status}}</td>
            <td class="text-center" style="width: 100px; height: 60px;" [style.backgroundColor]="taskColor(userdata)"><button class="btn btn-success" style="width: 90px;"
                    (click)="completeTask(i);" [disabled]="userdata.status === 'Completed'">Confirm</button></td>
            <td class="text-center" style="width: 100px; height: 60px;" [style.backgroundColor]="taskColor(userdata)"><button class="btn btn-danger" style="width: 90px;"
                    (click)="deleteTask(i)">Delete</button></td>
            <td class="text-center" style="width: 100px; height: 60px;" [style.backgroundColor]="taskColor(userdata)"><button class="btn btn-primary" style="width: 90px;">Edit</button></td>
        </tr>
    </tbody>
</table>
</div>